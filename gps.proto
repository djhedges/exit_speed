// sudo apt install python3-protobuf
// Compile with protoc -I ./ --python_out ./ gps.proto
syntax = "proto3";

import "google/protobuf/duration.proto";
import "google/protobuf/timestamp.proto";

package gps;

message Point {
  double lat = 1;
  double lon = 2;
  double alt = 3;
  double speed = 4;  // meters/second
  google.protobuf.Timestamp time = 5;
  double start_finish_distance = 6;  // Distance to the start/finish.
  int32 lap_number = 7;
  int32 point_number = 8;
}

message Lap {
  repeated Point points = 1;
  google.protobuf.Duration duration = 2;  // Time it took to finish the lap.
}

message Session {
  repeated Lap laps = 1;
  string track = 2;
  Point start_finish = 3;  // Location of start/finish.
}
